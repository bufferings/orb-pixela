description: >
  This command echos "Hello World" using file inclusion.

parameters:
  token-envvar:
    type: env_var_name
    default: "PIXELA_TOKEN"
    description: "Hello to whom?"
  username:
    type: string
    default: "${PIXELA_USERNAME}"
    description: "Hello to whom?"
  graph-id:
    type: string
    default: "${PIXELA_GRAPH_ID}"
    description: "Hello to whom?"
  when:
    type: enum
    default: "on_success"
    description: When to run the command.
    enum: ["always", "on_fail", "on_success"]

steps:
  - run:
      name: Hello Greeting
      when: << parameters.when >>
      command: << include(scripts/increment.sh) >>
      environment:
        PARAM_TOKEN_ENVVAR: << parameters.token-envvar >>
        PARAM_USERNAME: << parameters.username >>
        PARAM_GRAPH_ID: << parameters.graph-id >>
